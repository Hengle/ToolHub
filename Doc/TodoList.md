# Todo List
## 场景与序列化文件依赖网
### 概述
* 存在的问题：项目目前资源是全量提交，全量更新。在项目体量增大后，同步效率与合作开发效率会呈线性降低。
* 解决方案：引擎序列化文件（如场景，prefab，材质等）中明确存在对资源的依赖，不同开发者可以根据需求，可从服务端拉取必需的资源。
### 操作方法
* 开发者在拉取项目前，选择自己需要的文件类型，如是否需要场景，模型，材质，贴图，游戏逻辑。
* 服务器根据数据库中存储的依赖信息，拉取所有依赖文件
* 此功能只负责管理文件拉取，不负责版本管理，因此需要与现有版本管理工具联动（上传和更新依旧通过版本管理工具）

## 配置文件在数据库中的存储
### 概述：
* 存在的问题：配置文件（如策划的配表，美术与TA的特效设置等）是版本管理中，提交，更新，合并等最容易出现问题的文件类型。配置文件作为修改最频繁且在项目中起到依赖关系的枢纽的作用，常出现多人合作开发的情况。传统版本管理工具只能够对文本格式进行以行为单位的合并，这对于结构性较强的文件来说并不合适，结构性文件上下文关联性不强，常存在“一处改处处改”的情况。
* 解决方案：禁止“多方提交，合并”的合作方法，效仿P4“同时只允许一人拥有修改文件的权利”的合作思想。将配表文件数据直接融入到数据库中，修改时将文件的改动实时提交的数据库中，其他人则可实时接受到文件的改动（可以在游戏运行时环境直接读取远端数据库配置）。对于已经修改完毕并确认不会被再次修改的文件，可标记为稳定版本，并编译成普通文件。
### 操作方法
* 需要创建文件时，向远端提出一个创建新文件的请求。会从远端下载一个句柄文件，在Unity或第三方工具中，可通过句柄文件从远端下载或上传数据，操作方法与普通prefab没有太大区别。
* 对已修改的文件，允许在数据库内进行版本管理，将稳定版本移除出数据库并保存为正常文件。